Na początku 1657 r. wojska siedmiogrodzkie na czele z Rakoczym wkroczyły do Polski. Szwedzi ponowili atak z północy. Jednak nie udało i się przełamać Polskiej obrony.
Korzystając z okazji Fryderyk Wilhelm zawarł z Polską w 1657 r. w Welawie i Bydgoszczy traktaty. Mówiły one o uniezależnieniu się Prus Książęcych od Polski. Umocniło to pozycje Brandenburgii na arenie międzynarodowej. Była to największa strata potopu szwedzkiego.
